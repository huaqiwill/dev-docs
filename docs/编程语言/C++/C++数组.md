# C++数组

## 二维数组

- 所谓二维数组就是一个一维数组的每个元素又被声明为一 维数组,从而构成二维数组. 可以说二维数组是特殊的一维数组。
- 示例: 

+ int a[2][3] = { {80,75,92}, {61,65,71}};
+ 可以看作由一维数组a[0]和一维数组a[1]组成，这两个一维数组都包含了3个int类型的元素 
  ![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/c716d53c6b228ea211a524645a5d13a5.png)

## 二维数组的定义

- 格式:

+ 数据类型 数组名[一维数组的个数][一维数组的元素个数]
+ 其中"一维数组的个数"表示当前二维数组中包含多少个一维数组
+ 其中"一维数组的元素个数"表示当前前二维数组中每个一维数组元素的个数

---

## 二维数组的初始化

- 二维数的初始化可分为两种:

+ 定义的同时初始化
+ 先定义后初始化

- 定义的同时初始化

```c
int a[2][3]={ {80,75,92}, {61,65,71}};
```

- 先定义后初始化

```c
int a[2][3];
a[0][0] = 80;
a[0][1] = 75;
a[0][2] = 92;
a[1][0] = 61;
a[1][1] = 65;
a[1][2] = 71;
```

- 按行分段赋值

```c
int a[2][3]={ {80,75,92}, {61,65,71}};
```

- 按行连续赋值

```c
int a[2][3]={ 80,75,92,61,65,71};
```

- 其它写法

+ 完全初始化,可以省略第一维的长度

```c
int a[][3]={{1,2,3},{4,5,6}};int a[][3]={1,2,3,4,5,6};
```

   + 部分初始化,可以省略第一维的长度

```c
int a[][3]={{1},{4,5}};int a[][3]={1,2,3,4};
```

>+ 注意: 有些人可能想不明白，为什么可以省略行数，但不可以省略列数。也有人可能会问，可不可以只指定行数，但是省略列数？其实这个问题很简单，如果我们这样写：
>  int a[2][] = {1, 2, 3, 4, 5, 6}; // 错误写法
>  大家都知道，二维数组会先存放第1行的元素，由于不确定列数，也就是不确定第1行要存放多少个元素，所以这里会产生很多种情况，可能1、2是属于第1行的，也可能1、2、3、4是第一行的，甚至1、2、3、4、5、6全部都是属于第1行的

+ 指定元素的初始化

```c
int a[2][3]={[1][2]=10};int a[2][3]={[1]={1,2,3}}
```

## 二维数组的应用场景

![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/f351a6ed231c8a1a5e6379da6816fd1c.png)
![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/dd8a18bdb49031d24c98bc311e80ab78.png)
![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/dee64b6cb0f5c043402880d0062d2393.png)



最后，如果有任何疑问，请加微信 **leader_fengy** 拉你进学习交流群。

开源不易，码字不易，如果觉得有价值，欢迎分享支持。





## 二维数组的遍历和存储

## 二维数组的遍历

- 二维数组a[3][4],可分解为三个一维数组,其数组名分别为:

+ 这三个一维数组都有4个元素,例如:一维数组a[0]的 元素为a[0][0],a[0][1],a[0][2],a[0][3]。
+ 所以遍历二维数组无非就是先取出二维数组中得一维数组, 然后再从一维数组中取出每个元素的值

- 示例

```c
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    printf("%c", cs[0][0]);// 第一个[0]取出一维数组, 第二个[0]取出一维数组中对应的元素
```

```c
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    for (int i = 0; i < 2; i++) { // 外循环取出一维数组
        // i
        for (int j = 0; j < 3; j++) {// 内循环取出一维数组的每个元素
            printf("%c", cs[i][j]);
        }
        printf("\n");
    }
```

> 注意: 必须强调的是,a[0],a[1],a[2]不能当作下标变量使用,它们是数组名,不是一个单纯的下标变量

---

## 二维数组的存储

- 和以为数组一样

+ 给数组分配存储空间从内存地址大开始分配
+ 给数组元素分配空间, 从所占用内存地址小的开始分配
+ 往每个元素中存储数据从高地址开始存储

```c
#include <stdio.h>
int main()
{
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    // cs == &cs == &cs[0] == &cs[0][0]
    printf("cs = %p\n", cs);                // 0060FEAA
    printf("&cs = %p\n", &cs);              // 0060FEAA
    printf("&cs[0] = %p\n", &cs[0]);        // 0060FEAA
    printf("&cs[0][0] = %p\n", &cs[0][0]);  // 0060FEAA
    return 0;
}
```

![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/b3da2217fbaf93e346a390a47cad9a50.png)

## 

最后，如果有任何疑问，请加微信 **leader_fengy** 拉你进学习交流群。

开源不易，码字不易，如果觉得有价值，欢迎分享支持。



## 二维数组与函数

- 值传递

```c
#include <stdio.h>

// 和一位数组一样, 只看形参是基本类型还是数组类型
// 如果是基本类型在函数中修改形参不会影响实参
void change(char ch){
    ch = 'n';
}
int main()
{
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    printf("cs[0][0] = %c\n", cs[0][0]); // a
    change(cs[0][0]);
    printf("cs[0][0] = %c\n", cs[0][0]); // a
    return 0;
}
```

- 地址传递

```c
#include <stdio.h>

// 和一位数组一样, 只看形参是基本类型还是数组类型
// 如果是数组类型在函数中修改形参会影响实参
void change(char ch[]){
    ch[0] = 'n';
}
int main()
{
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    printf("cs[0][0] = %c\n", cs[0][0]); // a
    change(cs[0]);
    printf("cs[0][0] = %c\n", cs[0][0]); // n
    return 0;
}
```

```c
#include <stdio.h>

// 和一位数组一样, 只看形参是基本类型还是数组类型
// 如果是数组类型在函数中修改形参会影响实参
void change(char ch[][3]){
    ch[0][0] = 'n';
}
int main()
{
    char cs[2][3] = {
        {'a', 'b', 'c'},
        {'d', 'e', 'f'}
    };
    printf("cs[0][0] = %c\n", cs[0][0]); // a
    change(cs);
    printf("cs[0][0] = %c\n", cs[0][0]); // n
    return 0;
}
```

- 形参错误写法

```c
void test(char cs[2][]) // 错误写法
{
    printf("我被执行了\n");
}

void test(char cs[2][3]) // 正确写法
{
    printf("我被执行了\n");
}

void test(char cs[][3]) // 正确写法
{
    printf("我被执行了\n");
}
```

- 二维数组作为函数参数，在被调函数中不能获得其有多少行，需要通过参数传入

```c
void test(char cs[2][3])
{
    int row = sizeof(cs); // 输出4或8
    printf("row = %zu\n", row);
}
```

- 二维数组作为函数参数，在被调函数中可以计算出二维数组有多少列

```c
void test(char cs[2][3])
{
    size_t col = sizeof(cs[0]); // 输出3
    printf("col = %zd\n", col);
}
```

## 

最后，如果有任何疑问，请加微信 **leader_fengy** 拉你进学习交流群。

开源不易，码字不易，如果觉得有价值，欢迎分享支持。

## 作业

- 玩家通过键盘录入 w,s,a,d控制小人向不同方向移动,其中w代表向上移动,s代表向 下移动,a代表向左移动,d 代表向右移动,当小人移动到出口位置,玩家胜利

- 思路:
- 1.定义二维数组存放地图

```c
     ######
     #O #
     # ## #
     #  # #
     ##   #
     ######
```

- 2.规定地图的方向
  ![](http://8.155.40.179:9000/blog/images/94956b5965548e5b508dedcdec7b91f7/7331a7700b09543cef73fa0bbddc3c16.png)
- 3.编写程序控制方向

+ 当输入w或者W, 小人向上移动. x-1
+ 当输入s 或者S, 小人向下.  x+1
+ 当输入a或者A, 小人向左.  y-1
+ 当输入d或者D, 小人向右. y+1

- 4.移动小人

+ 用变量记录小人当前的位置
  + 1)如果小人将要移动的位置是墙,则无法移动
  + 2)如果小人将要移动的位置是路,则可以移动

- 5.判断是否走出迷宫

## 

最后，如果有任何疑问，请加微信 **leader_fengy** 拉你进学习交流群。

开源不易，码字不易，如果觉得有价值，欢迎分享支持。