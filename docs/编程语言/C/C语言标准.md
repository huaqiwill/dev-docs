# C语言标准

C语言有多个标准版本，每个版本都在不同程度上改进了语言的特性、标准库和编译器行为。以下是主要的C语言标准版本及其特点：

### 1. **C89 / ANSI C (1989年)**

**标准化背景**：

- 1989年，C语言通过了美国国家标准学会（ANSI）的标准化，成为标准化的C语言。它也被称为C89。
- C89标准为C语言定义了规范，包括语法、类型、结构体、函数调用、头文件等方面。

**主要特性**：

- 定义了标准库，包括 ``, ``, `` 等。
- 引入了`const`关键字，用来定义常量。
- 提出了函数原型的概念，要求函数声明必须匹配定义。
- 增强了对数据类型的支持（例如`enum`类型的规范）。
- 头文件的规范化，避免了重复包含。

**影响**：

- C89标准确立了C语言的基础，确保了不同平台之间的可移植性。

### 2. **C90 (ISO/IEC 9899:1990)**

**标准化背景**：

- C90是基于C89的国际标准化版本，由国际标准化组织（ISO）发布。

**主要特性**：

- 该标准与C89大致相同，实际上只是将C89标准通过ISO的程序进行了标准化。
- 保持了C89的所有特性，但增加了对国际化和本地化的支持。

**影响**：

- 在全球范围内推广了C语言的使用，并且被广泛应用于工业界。

### 3. **C99 (ISO/IEC 9899:1999)**

**标准化背景**：

- 1999年，C语言经历了一次大的更新，发布了C99标准，加入了许多新的特性和改进。

**主要特性**：

- **可变长数组**：允许定义大小不固定的数组。
- **新数据类型**：支持`long long int`类型，以支持更大的整数范围。
- **复数类型**：提供了对复数类型的支持，头文件 `` 提供相关功能。
- **`inline` 关键字**：允许定义内联函数，提升性能。
- **`restrict` 关键字**：用于指针，告诉编译器指针不会指向相同的内存区域，可以优化代码。
- **新的标准库**：新增了如``, ``等头文件，以支持精确控制整数类型的大小。
- **混合声明**：允许在代码块中间声明变量，而不是限制在代码块的开始部分。
- **布尔类型**：新增了 `_Bool` 类型，提供了布尔值类型（`true`和`false`）。
- **`for`循环的声明支持**：`for`循环中可以定义变量。

**影响**：

- C99引入的特性使得C语言更加现代化，支持了更复杂的数据结构和功能。但由于许多编译器未立即支持该标准，导致其应用有所滞后。

### 4. **C11 (ISO/IEC 9899:2011)**

**标准化背景**：

- C11是对C99的进一步改进，发布于2011年，重点改善了并发编程的支持和一些小的语言特性。

**主要特性**：

- **多线程支持**：引入了`_Thread_local`关键字，支持线程局部存储（TLS），使得C语言能够更好地与现代多核处理器配合。
- **原子操作**：提供了原子操作支持，能够更容易地编写线程安全的代码。
- **`_Static_assert`**：引入了静态断言，编译时进行类型检查，确保代码在编译时就符合预期。
- **增强的Unicode支持**：提供了新的字符类型（如`char16_t`、`char32_t`）来支持更广泛的字符编码。
- **`alignas` 和 `alignof`**：用于指定数据类型的对齐要求，以支持更高效的内存访问。
- **改进的可移植性**：对标准库做了许多优化，使其更适应现代硬件架构。

**影响**：

- C11标准增强了C语言在并行计算和多线程编程方面的能力，并对原有标准做了进一步的优化和清理。

### 5. **C17 / C18 (ISO/IEC 9899:2018)**

**标准化背景**：

- C17是对C11的修订，发布于2018年。它的变化相对较少，主要是修复了一些C11中的小问题和错误，且对语言特性和标准库没有做重大改动。

**主要特性**：

- **修复和澄清**：解决了C11标准中发现的错误和不一致之处。
- **弃用的功能**：一些不再推荐使用的功能被移除或标记为弃用。
- **没有新特性**：C17没有新增的语言特性或库函数。

**影响**：

- C17主要是作为一个小修正版本，旨在确保C11的标准更加稳定。

### 6. **C23 (预计2023年发布)**

**标准化背景**：

- C23是C语言的下一代标准，预计将包含一些新的语言特性和库函数，旨在让C语言适应现代开发需求。

**预计特性**：

- **改进的类型系统**：可能引入更多的类型安全和灵活性。
- **增强的并发支持**：随着并发编程的需求增加，C23有可能会进一步加强对多核处理器和并发任务的支持。
- **现代化的内存管理**：C23可能包括对内存管理和垃圾回收的更好支持。

**影响**：

- C23可能会进一步推动C语言现代化，解决多核计算和高效内存管理等方面的挑战。

### 总结：

- **C89/C90**是最基础的标准，提供了C语言的核心特性。
- **C99**引入了大量的新特性，如可变长数组、内联函数、布尔类型等。
- **C11**强调了多线程和并发编程的支持，改进了内存对齐等特性。
- **C17**主要是修复和清理，几乎没有新增特性。
- **C23**预计将继续推进C语言的现代化，增加更多的特性。

这些标准的发展推动了C语言从一种简单的系统编程语言发展为适应现代计算需求的强大工具。

